<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Campeonato Municipal – Tabela Dinâmica</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous">
</head>
<body>
  <header class="bg-primary text-white py-3 mb-4">
    <div class="container">
      <h1 class="h3">Campeonato Municipal 2025</h1>
    </div>
  </header>

  <main class="container">
    <h2 class="h5 mb-3">Próximos Jogos</h2>
    <div class="table-responsive">
      <table id="games-table" class="table table-striped table-bordered">
        <thead class="table-dark">
          <tr>
            <th>Data</th>
            <th>Horário</th>
            <th>Local</th>
            <th>Equipe A</th>
            <th>Equipe B</th>
          </tr>
        </thead>
        <tbody>
          <!-- Linhas serão inseridas pelo JS -->
        </tbody>
      </table>
    </div>
  </main>

  <footer class="text-center py-3 mt-4 border-top">
    <small>© 2025 Prefeitura Municipal</small>
  </footer>

  <!-- Biblioteca para parse CSV -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"
    integrity="sha512-...omitted..."
    crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>

  <script>
    // 1) Substitua por seu ID de planilha
    const sheetID = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS4mhIEWdzwEQHz3eYdjU_4cZTBXddYsCcL1LVeBiCeqXiBxerwDoxGywmMdTG2LPypeq1aO7OyrsvZ/pubhtml';
    // 2) URL que retorna o CSV publicado
    const csvUrl = `https://docs.google.com/spreadsheets/d/${sheetID}/export?format=csv`;

    // 3) Função para buscar e renderizar a tabela
    fetch(csvUrl)
      .then(res => res.text())
      .then(csvText => {
        const parsed = Papa.parse(csvText, { header: true }).data;
        const tbody = document.querySelector('#games-table tbody');
        parsed.forEach(row => {
          // pular linhas em branco
          if (!row.Data) return;
          const tr = document.createElement('tr');
          ['Data','Horario','Local','EquipeA','EquipeB'].forEach(col => {
            const td = document.createElement('td');
            td.textContent = row[col] || '';
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });
      })
      .catch(err => console.error('Erro ao carregar a planilha:', err));
  </script>
</body>
</html>
